{"application": "grssr-recommender", "namespace": "EROSKI", "message": "Orchestrator", "fields": {"messageType": "EnrichedPlaybook", "applicationID": "grssr-recommender", "playbook": {"apiVersion": "v1", "kind": "BigDataStackPlaybook", "metadata": {"applicationId": "grssr-recommender", "createdAt": "24092020", "name": "pb-EROSKI-ProductRecommendationEngine-26062019-1", "namespace": "EROSKI", "version": "1"}, "pods": [{"dnsPolicy": "ClusterFirst", "name": "recommendationprovider", "restartPolicy": "Always", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-06062019-1"}, "podType": "continuous", "qosPreferencesGlobal": [{"higherIsBetter": false, "name": "costPerHour", "type": "maximum", "typeLimit": null, "unit": "USD/hour", "value": 0.03}, {"higherIsBetter": false, "name": "responseTime", "type": "maximum", "typeLimit": null, "unit": "ms", "value": 150}], "qosRequirementsGlobal": [{"higherIsBetter": false, "name": "costPerHour", "type": "maximum", "typeLimit": null, "unit": "USD/hour", "value": 0.04}, {"higherIsBetter": false, "name": "responseTime", "type": "maximum", "typeLimit": null, "unit": "ms", "value": 200}], "workLoad": [{"higherIsBetter": true, "name": "requestsPerMinute", "type": "average", "typeLimit": null, "unit": "requests/min", "value": 1000}, {"higherIsBetter": true, "name": "requestsPerMinute", "type": "maximum", "typeLimit": null, "unit": "requests/min", "value": 10000}]}, "spec": {"containers": [{"env": [{"name": "BIGDATASTACK_APPID", "value": "grssr-recommender"}], "image": "sergiopenab/recommendationprovider", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "This is the ATOS Worldline service that provides product recommendations.", "bigdatastack_serviceId": "4410", "bigdatastack_serviceType": "application", "bigdatastack_tags": ["Recommender", "User Facing", "Supports Replication", "CPU Intensive"]}, "qosPreferences": [{"higherIsBetter": false, "name": "costPerHour", "type": "maximum", "typeLimit": null, "unit": "USD/hour", "value": 0.03}, {"higherIsBetter": false, "name": "responseTime", "type": "maximum", "typeLimit": null, "unit": "miliseconds", "value": 150}], "qosRequirements": [{"higherIsBetter": false, "name": "costPerHour", "type": "maximum", "typeLimit": null, "unit": "USD/hour", "value": 0.04}, {"higherIsBetter": false, "name": "responseTime", "type": "maximum", "typeLimit": null, "unit": "miliseconds", "value": 200}]}, "name": "recommendation-provider", "ports": [{"containerPort": 7070, "protocol": "TCP"}], "resources": {}}], "replicas": 1}}, "terminationGracePeriodSeconds": 30}, {"dnsPolicy": "ClusterFirst", "name": "feedbackcollector", "restartPolicy": "Always", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-06062019-1"}, "podType": "continuous", "qosPreferencesGlobal": {}, "qosRequirementsGlobal": {}, "workLoad": [{"higherIsBetter": true, "name": "requestsPerMinute", "type": "average", "typeLimit": null, "unit": "requests/min", "value": 300}, {"higherIsBetter": true, "name": "requestsPerMinute", "type": "maximum", "typeLimit": null, "unit": "requests/min", "value": 7000}]}, "spec": {"containers": [{"env": [{"name": "BIGDATASTACK_APPID", "value": "pb-Something"}], "image": "sergiopenab/feedbackcollector", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "This is the ATOS Worldline service that accumulates feedback about purchaces", "bigdatastack_serviceId": "4411", "bigdatastack_serviceType": "application", "bigdatastack_tags": ["Supports Replication", "CPU Intensive"]}, "qosPreferences": {}, "qosRequirements": {}}, "name": "feedback-collector", "ports": [{"containerPort": 8080, "protocol": "TCP"}], "resources": {}}]}}, "terminationGracePeriodSeconds": 30}, {"dnsPolicy": "ClusterFirst", "name": "demo", "restartPolicy": "Always", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}, "podType": "continuous", "qosPreferencesGlobal": {}, "qosRequirementsGlobal": {}, "workLoad": {}}, "spec": {"containers": [{"env": [{"name": "BIGDATASTACK_APPID", "value": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}], "image": "sergiopenab/demo", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "This is the ATOS Worldline demo interface, is a simple web UI that recieves very small amounts of traffic.", "bigdatastack_serviceId": "4412", "bigdatastack_serviceType": "application", "bigdatastack_tags": ["User Facing", "Low Usage"]}, "qosPreferences": {}, "qosRequirements": {}}, "name": "demo", "ports": [{"containerPort": 9090, "protocol": "TCP"}], "resources": {}}]}}, "terminationGracePeriodSeconds": 30}, {"dnsPolicy": "ClusterFirst", "name": "statushandler", "restartPolicy": "Always", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}, "podType": "continuous", "qosPreferencesGlobal": {}, "qosRequirementsGlobal": {}, "workLoad": [{"higherIsBetter": true, "name": "requestsPerMinute", "type": "average", "typeLimit": null, "unit": "requests/min", "value": 10}, {"higherIsBetter": true, "name": "requestsPerMinute", "type": "maximum", "typeLimit": null, "unit": "requests/min", "value": 60}]}, "spec": {"containers": [{"env": [{"name": "BIGDATASTACK_APPID", "value": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}], "image": "sergiopenab/statushandler", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "This is the ATOS Worldline service that updates and shows the status of the client during the process.", "bigdatastack_serviceId": "4413", "bigdatastack_serviceType": "application", "bigdatastack_tags": ["Status handler", "User Facing"]}, "qosPreferences": {}, "qosRequirements": {}}, "name": "status-handler", "ports": [{"containerPort": 8081, "protocol": "TCP"}], "resources": {}}], "replicas": 1}}, "terminationGracePeriodSeconds": 30}, {"dnsPolicy": "ClusterFirst", "name": "dataselection", "restartPolicy": "Always", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}, "podType": "continuous", "qosPreferencesGlobal": {}, "qosRequirementsGlobal": {}, "workLoad": {}}, "spec": {"containers": [{"env": [{"name": "BIGDATASTACK_APPID", "value": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}], "image": "sergiopenab/dataselection", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "This is the ATOS Worldline batch process of data selection.", "bigdatastack_serviceId": "4414", "bigdatastack_serviceType": "application", "bigdatastack_tags": ["Data selection", "IO Intensive"]}, "qosPreferences": {}, "qosRequirements": {}}, "name": "dataselection", "ports": {}, "resources": {}}], "replicas": 1}}, "terminationGracePeriodSeconds": 30}, {"dnsPolicy": "ClusterFirst", "name": "datapreparation", "restartPolicy": "Always", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}, "podType": "continuous", "qosPreferencesGlobal": {}, "qosRequirementsGlobal": {}, "workLoad": {}}, "spec": {"containers": [{"env": [{"name": "BIGDATASTACK_APPID", "value": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}], "image": "sergiopenab/datapreparation", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "This is the ATOS Worldline batch process of data preparation.", "bigdatastack_serviceId": "4415", "bigdatastack_serviceType": "application", "bigdatastack_tags": ["Data preparation"]}, "qosPreferences": {}, "qosRequirements": {}}, "name": "datapreparation", "ports": {}, "resources": {}}], "replicas": 1}}, "terminationGracePeriodSeconds": 30}, {"dnsPolicy": "ClusterFirst", "name": "productrecommendation", "restartPolicy": "Always", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}, "podType": "continuous", "qosPreferencesGlobal": {}, "qosRequirementsGlobal": {}, "workLoad": {}}, "spec": {"containers": [{"env": [{"name": "BIGDATASTACK_APPID", "value": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}], "image": "sergiopenab/productrecommendation", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "This is the ATOS Worldline batch process of product recommendation.", "bigdatastack_serviceId": "4416", "bigdatastack_serviceType": "application", "bigdatastack_tags": ["Product recommendation", "IO Intensive"]}, "qosPreferences": {}, "qosRequirements": {}}, "name": "productrecommendation", "ports": {}, "resources": {}}], "replicas": 1}}, "terminationGracePeriodSeconds": 30}, {"name": "database", "template": {"metadata": {"labels": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}, "podType": "predeployed", "qosRequirementsGlobal": {}, "workLoad": {}}, "spec": {"containers": [{"image": "docker-registry.default.svc:5000/lx-store/lx-store@sha256:124bb9c881d6bdf025fc5f66214a9bff550083ce92f5d1715dcaa157d80e38b0", "imagePullPolicy": "Always", "metadata": {"labels": {"bigdatastack_desc": "LeanXScale Database used for interaction storage", "bigdatastack_serviceId": "312", "bigdatastack_serviceType": "lxs", "bigdatastack_tags": ["Database", "Scalable"]}}, "name": "lx-store", "ports": [{"containerPort": 22, "protocol": "TCP"}, {"containerPort": 23, "protocol": "TCP"}, {"containerPort": 2181, "protocol": "TCP"}, {"containerPort": 1529, "protocol": "TCP"}, {"containerPort": 65111, "protocol": "TCP"}], "resources": {}, "volumeMounts": [{"mountPath": "/var/lxs/data", "name": "lxsConfVol"}]}], "replicas": 1, "volumes": [{"name": "lxsConfVol", "persistentVolumeClaim": {"claimName": "lxsClaim"}}]}}}], "routes": [{"name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-route-demo", "spec": {"host": "demo-EROSKI.apps.openshift.bigdatastack.com", "port": {"targetPort": 9090}, "to": {"kind": "Service", "name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-service-1", "weight": 100}, "wildcardPolicy": "None"}}, {"name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-route-feedback", "spec": {"host": "feedback-EROSKI.apps.openshift.bigdatastack.com", "port": {"targetPort": 8080}, "to": {"kind": "Service", "name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-service-1", "weight": 100}, "wildcardPolicy": "None"}}, {"name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-route-recommender", "spec": {"host": "recommender-EROSKI.apps.openshift.bigdatastack.com", "port": {"targetPort": 7070}, "to": {"kind": "Service", "name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-service-1", "weight": 100}, "wildcardPolicy": "None"}}, {"name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-route-statushandler", "spec": {"host": "statushandler-EROSKI.apps.openshift.bigdatastack.com", "port": {"targetPort": 8081}, "to": {"kind": "Service", "name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-service-1", "weight": 100}, "wildcardPolicy": "None"}}], "services": [{"name": "pb-EROSKI-ProductRecommendationEngine-26062019-1-service-1", "spec": {"ports": [{"name": "demo-tcp", "port": 9090, "protocol": "TCP", "targetPort": 9090}, {"name": "feedback-tcp", "port": 8080, "protocol": "TCP", "targetPort": 8080}, {"name": "recommender-tcp", "port": 7070, "protocol": "TCP", "targetPort": 7070}, {"name": "statushandler-tcp", "port": 8081, "protocol": "TCP", "targetPort": 8081}], "selector": {"bigdatastack-appid": "pb-EROSKI-ProductRecommendationEngine-26062019-1"}}}]}, "qosIntervals": {"costPerHour": [">0.04", ">0.05333333333333334", ">0.06666666666666667", ">0.08"], "responseTime": [">200.0", ">266.6666666666667", ">333.33333333333337", ">400.0"]}}}